{% extends 'base.html.twig' %}
{% block connexion %}{% include 'connexion.html.twig' %}{% endblock %}
{% block nav %}{% include 'nav.html.twig' %}{% endblock %}

{% block body %}
<div class="container-fluid">
    <div class="row justify-content-center">
        <h1>- LES UTILISATEURS -</h1>
        <div class="w-100"></div>
        <h3>Nombre d'utilisateurs <span class="font-weight-bold" style="color:#1abc9c"> [ {{ users | length }} ] </span> </h3>
        <div class="w-100"></div>
        <a href="{{ path('fos_user_registration_register') }}" class="top">
            <img class="img-class" src="{{ asset('assets/images/glyph/ajoute-rond.png') }}" style="margin-right:10px;">
            <button class="btn btn-secondary btn-lg btn-secondary bouton" type="submit">Ajouter un Utilisateur</button>
        </a>
    </div>
 
        {% for user in users %}
            <div class="col-12 top">
                <div class="row justify-content-center rounded grey">
                    
                
                <div class="border-green Titillium">Utilisateur : <b>{{ user.username | upper }}</b></div>
                <div class="w-100"></div>
                <div class="text">Inscriptions en cours : 
                    <span class="font-weight-bold" style="color:#1abc9c;font-size:1.4em;">[ {{ user.inscriptions | length }} ]</span>
                </div>
                <div class="w-100"></div>
                <div class="text">{{ user.email }} </div>
                <div class="w-100"></div> 
                <a href="{{ path('admin_user_edit', { 'id': user.id }) }}">
                    <button type="submit" class="btn btn-small btn-lg  bouton">Modifier</button>
                </a>
                <form action="{{ path('admin_user_delete', { 'id': user.id }) }}" method="post">
                    <input type="hidden" name="_method" value="DELETE" />
                    {{ form_widget(deleteForms[user.id]) }}
                    <button type="submit" class="btn btn-small btn-lg  bouton">Supprimer</button>
                </form>
                
                <div class="w-100"></div>
                <div class="row justify-content-center">
                {% if user.inscriptions | length > 0 %}
                <h3 class="categories top">- INSCRIPTIONS -</h3>
                {% endif %}
                {% for inscription in user.inscriptions %}
                <div class="border-card col-11">
                    <div class="card-body text-center">
                        
                            <div><img src="{{ asset('assets/images/glyph/glyphicons-635-teenager.png') }}"> {{ inscription.nom | upper }}, {{ inscription.prenom | title }}, {{ inscription.age }}, </div>
                            <div class="w-100"></div>
                            <div class="text"> {{ inscription.sessionId }}</div>
                            
                        
                    </div>
                    
                </div>
                <div class="w-100"></div>
                {% endfor %}
                </div>
                
            </div>
            </div>
        {% endfor %}
    
{% endblock %}
{% block footer %}{% include 'footer.html.twig' %}{% endblock %}